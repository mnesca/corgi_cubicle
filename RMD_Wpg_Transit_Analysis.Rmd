---
title: "Playing Around with Transit Data"
author: "Marcello Nesca"
date: "July 2 2019"
output: github_document
---

## Motivation(s) & Objectives

The idea of this practice dataset is:  
  1) to upkeep my data science skills in R  
  2) playing with version control using Github  
  3) Store my thoughts on data analysis  
  4) i want to practice more on Tidyverse code and stop using BASE R coding  


```{r loading packages, include=FALSE}
library(here) 
library(tidyverse)
```

## Loading Datasets

I have obtained this dataset from the City of Winnipeg open dataset archive I will be concentrating on utilizing the Transit-passups for this practice project.  Since this dataset gets updated daily, I have gotten this dataset in June 29th 2019.

Ref: <https://data.winnipeg.ca/Transit/Transit-Pass-ups/mer2-irmb>

```{r loading data, include=TRUE}
transitdata <- read_csv(here("data", "Transit_Pass-ups.csv"))
```

## Descriptive Analysis on Variables

Here I want to describe what my variables initially look like before further analysis. We first need to see what variables are included without continiously looking at the dataframe.  The idea is to try to be efficient in your work. 
Here are a list of the variables: 
```{r sumvar}
sumvar <- summary(transitdata)
print(sumvar)
```

```{r Descriptive Analysis, include=TRUE}
g <- ggplot(transitdata)
g + 
  geom_bar(aes("Pass-Up Type")) +
  xlab("Type of bus that passed")
```

It seems this produced an error that I am trying to fix, the error in this case is that its outputting the total count of the variable under Route Destination which is not useful at all. I will try to fix this.

The issue was that the variables were characters to which i have to change to factors.

```{r Mutating character variables to Factors then checking in GGPLOT2, include=TRUE}
transitdata <- transitdata %>% 
  mutate_at(vars("Route Destination", "Route Name", "Pass-Up Type"), as.factor)
tibble(transitdata)
g <- ggplot(transitdata)
g + 
  geom_bar(aes(`Pass-Up Type`)) +
  xlab("Type of bus that passed")
```

AAAAND... urgggg! It seems like transforming the variables didnt work either!!

UPDATE: 07-21-2019:
So I finally figured out why my GGPLOT geom bar is continiously breaking -- it took me a week or so to figure this out.  It is because GGPLOT *CANNOT* have spaces in the variables.  Furthermore, spaces between variables is not good coding practice anyways, so... City of Winnipeg, do *NOT* put spaces in your variables.

```{r Now lets see other variables!, include=TRUE}
g + 
  geom_bar(aes(`Route Destination`)) +
  xlab("Where the bus went")

g + 
  geom_bar(aes(`Route Name`)) +
  xlab("Name of the Route")
```